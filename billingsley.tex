% --------------------------------------------------------------
%                         Start here
% --------------------------------------------------------------

\documentclass[11pt]{article}
% \setcounter{secnumdepth}{0}
\usepackage[margin=1in]{geometry}
\usepackage{amsmath,amsthm,amssymb,mathtools,graphicx,enumitem,hyphenat,float}
\usepackage{accents, mathabx, hyperref, chngcntr}
\usepackage[linesnumbered, noline]{algorithm2e}
% \graphicspath{ {./Images/} }
\DeclarePairedDelimiter{\ceil}{\lceil}{\rceil}
\newcommand\ec[1]{\ensuremath{\mathbb{E}\left[#1\right]}}
\newcommand\pr[1]{\ensuremath{\mathrm{Prob}\left(#1\right)}}
\newcommand\ecn[1]{\ec{\norm{#1}^2}}
% \DeclarePairedDelimiter\ev{\langle}{\rangle}
\newcommand\ev[1]{\left \langle #1 \right \rangle}
% \DeclarePairedDelimiter\br{(}{)}
\newcommand\br[1]{\left ( #1 \right )}
% \DeclarePairedDelimiter\floor{\lfloor}{\rfloor}
\newcommand\floor[1]{\left \lfloor #1 \right \rfloor}
\newcommand{\dbtilde}[1]{\accentset{\approx}{#1}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\X}{\mathcal{X}}
\newcommand{\E}{\mathbb{E}}
\newcommand{\Snp}{\mathbb{S}^{n}_{+}}
\newcommand{\Sn}{\mathbb{S}^{n}}
\renewcommand{\S}{\mathbb{S}}
\newcommand{\F}{\mathcal{F}}
\newcommand{\A}{\mathcal{A}}
\newcommand{\B}{\beta}
\newcommand{\J}{\mathcal{J}}
\newcommand{\G}{\mathcal{G}}
\newcommand{\M}{\mathcal{M}}
\newcommand{\lc}{\mathop l}
\newcommand{\C}{\mathbb{C}}
\newcommand{\K}{\mathcal{K}}
\newcommand{\lub}{\mathrm{lub}}
\newcommand{\g}{\mathrm{glb}}
\DeclareMathOperator*{\argmin}{\arg\!\min}
\newcommand{\seq}{\subseteq}
\newcommand{\e}{\varepsilon}
\newcommand{\la}{\lambda}
\newcommand{\om}{\omega}
\newcommand{\Om}{\Omega}
\newcommand{\de}{\delta}
\newcommand{\mbf}{\mathbf}
\newcommand{\es}{\emptyset}
\newcommand{\mc}{\mathcal}
\newcommand{\un}{\cup}
\newcommand{\ic}{\cap}
\newcommand{\gen}[1]{\ensuremath{\langle #1\rangle}}
\newcommand{\spn}{\mathrm{span \ }}
\newcommand{\dm}{\mathrm{dim \ }}
\newcommand{\sgn}{\mathrm{ \ sign}}
\newcommand{\Lm}{\mathcal{L}}
\newcommand{\nll}{\mathrm{null}}
\newcommand{\diag}{\mathrm{diag }}
\newcommand{\row}{\mathrm{row}}
\newcommand{\col}{\mathrm{col \ }}
\newcommand{\rng}{\mathrm{range \ }}
\newcommand{\dgr}{\mathrm{deg \ }}
\newcommand{\dist}{\mathrm{dist}}
\newcommand{\Prob}{\mathrm{Prob}}
\newcommand{\Lim}{\lim\limits}
\newcommand{\Sum}{\sum\limits}
\newcommand{\Pt}{\|P\|}
\newcommand{\dmn}{\mathrm{dom \ }}
\newcommand{\Prod}{\prod\limits}
\newcommand*\dif{\mathop{}\!\mathrm{d}}
\newcommand{\Beta}{\beta}
\newcommand{\Seq}{\mathrm{Seq }}
\newcommand{\norm}[1]{\left\lVert#1\right\rVert}
\newcommand{\abs}[1]{\left\lvert#1\right\rvert}
% \DeclarePairedDelimiter\abs{\left\lvert}{\right\rvert}%
\newcommand\m[1]{\begin{bmatrix}#1\end{bmatrix}} 
\newcommand{\adj}{\mathrm{adj \ }}
% \newcommand{\det}{\mathrm{det}}
\newcommand{\rank}{\mathrm{rank \ }}
\newcommand{\epi}{\mathrm{epi}}
\newcommand{\tr}{\mathrm{tr}}
\newcommand{\op}{\mathrm{op}}
\newcommand{\prox}{\mathrm{prox}}
\renewcommand{\L}{\mathcal{L}}
\newcommand{\D}{\mathcal{D}}
\newcommand{\var}{\mathrm{Var}}
\newcommand{\tvar}{\mathrm{TVar}}

\newenvironment{theorem}[2][Theorem]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
\newenvironment{definition}[2][Definition]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
\newenvironment{rmrk}[2][Remark]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
\newenvironment{lemma}[2][Lemma]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
\newenvironment{exercise}[2][Exercise]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
\newenvironment{reflection}[2][Reflection]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
\newenvironment{proposition}[2][Proposition]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
\newenvironment{corollary}[2][Corollary]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
% --------------------------------------------------------------
%                         Start here
% --------------------------------------------------------------

\renewcommand{\qedsymbol}{$\blacksquare$}

\begin{document}

\title{Billingsley Probability and Measure}%replace X with the appropriate number
\author{A. K.} %if necessary, replace with your course title

\maketitle

\section*{Chapter 1. Probability}
\subsection*{1. Borel's Normal Number Theorem}
\begin{exercise}{1.1}
    \begin{enumerate}
        \item Show that a discrete probability space (see Example 2.8 for the formal definition) cannot contain an infinite sequence $A_1, A_2, \ldots$ of independent events each of probability $\frac{1}{2}$. Since $A_n$ could be identified with heads on the $n$th toss of a coin, the existence of such a sequence would make this section superflouous.
        \item Suppose that $0 \leq p_n \leq 1$ and put $\alpha_n = \min \{ p_n, 1 - p_n \}$. Show that if $\sum_n \alpha_n$ diverges, then no discrete probability space can contain independent events $A_1, A_n, \ldots$ such that $A_n$ has probability $p_n$.
    \end{enumerate}
\end{exercise}
\begin{proof}
    TBD.
\end{proof}

\begin{exercise}{1.2}
    Show that $N$ and $N^c$ are dense in $(0, 1]$.
\end{exercise}
\begin{proof}
    A set $A$ is dense in a set $B$ if $B \seq A^{-}$ where $A^{-}$ is the closure of $A$. The closure of $A$ is defined as the set of all $x$ such that there there is some sequence $\{ x_{n} \}_{n=1}^{\infty}$ in $A$ such that $\lim_{n \to \infty} x_n = x$. Define \[ N = \left [ \omega \in [0, 1) \mid \lim_{n \to \infty} \frac{1}{n} \sum_{i=1}^{n} d_i (\omega) = \frac{1}{2} \right ] \]
    Let $x \in (0, 1]$. Define $\{ x_{n} \}_{n=1}^{\infty}$ as follows: Let the first $n$ digits of $x_n$ (for $n > 1$) be equal to the first $n$ digits in the binary expansion of $x$. Suppose there are $m$ ones and $(n-m)$ zeros in these digits. If $m = n-m$ then letting the rest of the binary expansion alternate between 0 and 1 we'd have $x_n \in N$. If $m > n-m$, add $m-(n-m+1) = 2m - n - 1$ zeros to the binary expansion of $x_n$, then note that
    \begin{align*}
        \frac{1}{2m} \sum_{i=1}^{2m} d_i (x_n) &= \frac{1}{2m} \left (\sum_{i=1}^{n} d_i (x_n) + \sum_{n+1}^{2m} d_i (x_n) \right) \\
        &= \frac{1}{2m} \left ( m + (2m-(n+1) - (2m-n-1)) \right ) = \frac{1}{2}
    \end{align*}
    Letting the rest of the binary expansion alternate between $0$ and $1$ we'd have $x_n \in N$. A similar methodology is used when $m < n-m$. Hence $x_n \in N$. Suppose that $\e > 0$. Because $\lim_{n \to \infty} 2^{-n} = 0$, it follows that there is some $N \in \N$ such that for all $n \geq N$ we have $2^{-n} < \frac{\e}{2}$. Let $n \in \N$ such that $n \geq N$, note that $x_n$ and $x$ share the same $N$ digits in their binary expansions. It follows that
    \begin{align*}
        |x-x_n| &= \left | \sum_{i=N+1}^{\infty} 2^{-i}  (d_i (x) - d_i(x_n))\right | \leq \sum_{i=N+1}^{\infty} |d_i (x) - d_i (x_n)| 2^{-i} \\
        &\leq \sum_{i=N+1}^{\infty} 2^{-i} (2) \leq 2 \sum_{i=n+1}^{\infty} 2^{-i} = 2(2^{-N}) < 2 \left (\frac{\e}{2} \right) = \e
    \end{align*}
    Hence $\Lim_{n \to \infty} x_n = x$. It follows that $x \in N^{-}$, and because $x$ was arbitrary we have $(0, 1] \seq N^{-}$ and we see that $N$ is dense in $(0, 1]$. A similar proof can be constructed for $N^{c}$ and the details are ommitted.
\end{proof}

\begin{exercise}{1.3}
    Define a set $A$ to be trifling if for each $\e$ there exists a finite sequence of intervals $I_k$ satisfying (1.22) and (1.23).
    \[ A \seq \bigcup_{k} I_k \ (1.22) \text { and } \sum_{k} |I_k| < \e. \ (1.23) \]
    This definition and the definition of neglibility apply as they stand to all sets on the real line, not just to subsets of $(0, 1]$.
    \begin{enumerate}
        \item Show that a trifling set is negligible.
        \item Show that the closure of a trifling set is also trifling.
        \item Find a bounded negligible set that is not trifling.
        \item Show that the closure of a negligible set may not be negligible.
        \item Show that finite unions of trifling sets but that this can fail for countable unions.
    \end{enumerate}
\end{exercise}
\begin{proof}
    (1) Suppose that a set $A$ is trifling. Suppose that $\e > 0$. Because $A$ is triffling, there is a sequence $I_1, \ldots, I_n$ of intervals such that $A \seq \un_{k=1}^{n} I_k$ and $\sum_{k=1}^{n} |I_k| < \frac{\e}{2}$. Let $I_{k} = (0, \frac{\e}{2^{k}})$ for all $k > n$. Then obviously $A \seq \un_{k} I_k$ and,
    \[ \sum_{k=1}^{\infty} |I_k| = \sum_{k=1}^{n} |I_k| + \sum_{k=n+1}^{\infty} |I_k| < \frac{\e}{2}  + \sum_{k=n+1}^{\infty} \frac{\e}{2^{k}} = \frac{\e}{2} + \frac{\e}{2^{n}}  \leq \frac{\e}{2} + \frac{\e}{2} = \e    \]
    Hence $A$ is negligible. \\
    (2) Note that $A$ is bounded since it is a subset of the union of a finite number of bounded sets. 
\end{proof}

\pagebreak
\subsection*{2. Probability Measures}
\begin{definition}{1}
    Let $\Omega$ be a nonempty space. A class $\mc F$ of subsets of $\Omega$ is called a field if:
    \begin{enumerate}
        \item $\Omega \in \F$
        \item $A \in \F$ implies $A^c \in \F$
        \item $A, B \in \mc \F$ implies $A \un B \in \F$
    \end{enumerate}
    A set in a given class $\F$ is said to be measurable $\F$ or an $\F-$set. A $\sigma$ field is one in which (3) is replaced by the union of a countable number of sets.
\end{definition}

\begin{definition}{2}
    Let $\mc A$ be a field. The $\sigma$-field generated by $\mc A$, denoted $\sigma (\mc A)$ is the intersection of all $\sigma$-fields containing $\mc A$.
\end{definition}

\begin{rmrk}{3}
    $\sigma(\A)$ satisfies:
    \begin{enumerate}
        \item $\A \in \sigma(\A)$.
        \item $\sigma(\A)$ is a sigma-field
        \item If $\A \in \mc G$ and $\mc G$ is a $\sigma$-field, then $\sigma(\A) \seq \mc G$.
    \end{enumerate}
\end{rmrk}


\begin{definition}{4}
    A set function is a real-value function defined on some class of subsets of a space $\Omega$.
\end{definition}

\begin{definition}{5}
    A set function $P$ on a field $\F$ is a probability measure if:
    \begin{enumerate}
        \item $0 \leq P(A) \leq 1$ for $A \in \mc F$.
        \item $P(\es) = 0$, $P(\Omega) = 1$
        \item If $(A_i)$ is a disjoint sequence of sets in $\F$ and if $\bigcup_{k=1}^{\infty} A_k \in \F$, then
        \[ P \left ( \bigcup_{k=1}^{\infty} A_k \right) = \sum_{k=1}^{\infty} P(A_k) \]
    \end{enumerate}
    The tripe $(\Omega, \F, P)$ is called a probability measure space or a probabiltiy space.
\end{definition}

\begin{definition}{6}
    A support of a probability measure $P$ is any $A \in \F$ for which $P(A) = 1$.
\end{definition}

\begin{definition}{9}
    A discrete probability space is a space $(\Omega, \F, P)$ in which $\Omega$ is countable, $\F = \mc P (\Omega)$ and there is a nonnegative function $p: \Omega \to \R$ such that $\sum_{w \in \Omega} p(w) = 1$ and $P(A) = \sum_{\omega \in \A} p(\omega)$.
\end{definition}

\begin{definition}{10}
    A probability measure $P$ is discrete if there exist finitely or countably many points $\omega_k$ and masses $m_k$ such that $P(A) = \sum_{\omega_k \in A} m_k$ for $A \in \F$, i.e., $P(A) = \sum_{k} m_k I_A (\omega_k)$.
\end{definition}

\begin{rmrk}{11}
    If $P$ is a probability measure, then
    \begin{enumerate}
        \item $P(A) \leq P(B)$ if $A \seq B$.
        \item $P(A^c) = 1 - P(A)$.
        \item $P(A \un B) = P(A) + P(B) - P(A \ic B)$
        \item 
        \begin{align*}
            P\left ( \bigcup_{k=1}^{n} A_k \right) &= \sum_{i} P(A_i) - \sum_{i < j} P(A_i \ic A_j) \\
            &+ \sum_{i < j < k} P(A_i \ic A_j \ic A_k) + \ldots + (-1)^{n+1} P(A_1 \ic \cdots \ic A_n).
        \end{align*}
        \item For any sequence $A_1, A_2, \ldots$ of sets in $\mc \F$, $P( \bigcup_{k=1}^{n} A_k) \leq \sum_{k=1}^{n} P(A_k)$. (Boole's inequality)
    \end{enumerate}
\end{rmrk}

\begin{theorem}{2.1}
    Let $P$ be a probability measure on a field $\mc F$.
    \begin{enumerate}
        \item Continuity from below: If $A_n$ and $A$ lie in $\F$ and $A_n \uparrow A$, then $P(A_n) \uparrow P(A)$.
        \item Continuity from above: If $A_n$ and $A$ lie in $\F$ and $A_n \downarrow A$, then $P(A_n) \downarrow P(A)$.
        \item Countable subadditivity: If $A_1, A_2, \ldots$ and $\bigcup_{k=1}^{\infty} A_k$ lie in $\F$ (they need not be disjoint), then
        \[ P \left ( \bigcup_{k=1}^{\infty} A_k \right) \leq \sum_{k=1}^{\infty} P(A_k) \]
    \end{enumerate}
\end{theorem}

\begin{definition}{12}
    Let $\J$ be the class of subintervals $(a, b]$ of $(0, 1]$ and define $\lambda (I) = |I| = b - a$, regard $\es$ as an element of $\J$ of length $0$. Let $A = \bigcup_{i=1}^{n} I_i$ be a finite disjoint union of sets in $\J$ (the set of all such sets is called $\B_0$). Then define \[ \lambda (A) = \sum_{i=1}^{n} \lambda(I_i), \]
    Then the last equation defines a set function $\lambda$ on $\B_0$ called the Lebesgue measure.
\end{definition}

\begin{theorem}{2.2}
    Lebesgue measure $\lambda$ is a (countably additive) probability measure on the field $\B_0$.
\end{theorem}

\begin{definition}{13}
    Let $S$ be a finite set of points. Let $\Om = S^{\infty}$ be the space of all infinite sequence
    \[ \om = (z_1 (\om), z_2 (\om), \ldots) \]
    be elements of $S$, where $z_k (\om) \in \S$ for all $\om \in S^{\infty}$ and $k \geq 1$.
\end{definition}

\begin{rmrk}{14}
    The space $S^{\infty}$ is an infinite-dimensional Cartesian product, each $z_k: S^{\infty} \to S$ is a coordinate function or natural projection. Let $S^{n} = S \times \cdots \times S$ n times.
\end{rmrk}

\begin{definition}{15}
    A cylinder of rank $n$ is a set of the form
    \[ A = [ \om : (z_1 (\om), \ldots, z_n (\om)) \in H] \]
    where $H \seq S^n$. A thin cylinder is one in which $H$ is a singleton. Let $\lc_0$ be the class of cylinders of all ranks.
\end{definition}

\begin{rmrk}{16}
    $\lc_0$ is a field.
\end{rmrk}


\begin{definition}{17}
    Let $p_u, u \in S$, be probabilities on $S$ (nonnegative and summing up to 1). Define $P$ on $\lc_0$ this way: For a cylinder $A$ of rank $n$ taken,
    \[ P(A) = \sum_{H} p_{u_1} \cdots p_{u_n} \]
    the sum extending over all the sequences $(u_1, \ldots, u_n)$ in $H$, where $H \seq S^n$ is from the definition of $A$. As a special case for a thin cylinder,
    \[ P[\om : (z_1 (\om), \ldots, z_n (\om)) = (u_1, \ldots, u_n)] = p_{u_1} \cdots p_{u_n} \]
    Because of the products on the right, $P$ is called a \emph{product measure}. (straight forward to prove it is a probability measure using Theorem 2.3)
\end{definition}

\begin{theorem}{2.3}
    Every finitely additive probability measure on the field $\lc_0$ of cylinders in $S^{\infty}$ is in fact countably additive.
\end{theorem}

\begin{lemma}{18}
    If $P$ is a finitely probability additive measure such that $A_n \downarrow \es$ for sets $A_n \in \F$ implies $P(A_n) \downarrow 0$, then $P$ is a countably additive probability measure.
\end{lemma}

\begin{lemma}{19}
    If $A_n \downarrow A$ where the $A_n$ are nonempty cylinders, then $A$ is nonempty.
\end{lemma}

\begin{rmrk}{20}
    Let $\lc$ be the $\sigma$-field in $S^{\infty}$ generated by $\lc_0$. By Section 3, the probabilty measure $P$ defined on $\lc_0$ extends to $\lc$. The term product measure, properly speaking, applies to the extended $P$.
\end{rmrk}

\begin{definition}{A.15}
    A set $A$ is dense in the set $B$ if for each $x \in B$ and each open set $J$ with $x \in J$, we have $J \ic A \neq \es$, or equivalently $B \seq A^{-}$. A set $E$ is nowhere dense if each open interval $I$ contains some open interval $J$ such that $J \ic E = \es$. \\
    A set $A$ is defined to be perfect if it is closed and for each $x \in A$ and positive $\e$ there is a $y \in A$ such that $0 < \abs{x-y} < \e$. Equivalently, $A$ is closed and for each $x \in A$ there is a sequence $(x_n)$ in $A$ such that $x_n \neq x$ and $x_n \rightarrow x$. The Cantor Set is uncountable, nowhere dense, and perfect. \\
    A set that is nowhere dense is in a sense small. If $A$ is a countable union of nowhere dense sets then $A$ is said to be of the first category. A set that is not of the first category is said to be of the second category.
\end{definition}


\hrulefill

\begin{exercise}{2.2}
    Let $A_1, \ldots, A_n$ be arbitrary events and put $U_k = \bigcup \left ( A_{i_1} \ic \cdots \ic A_{i_k} \right )$ and $I_k = \bigcap \left ( A_{i_1} \un \cdots \un A_{i_k} \right )$ where the union and intersection extend over all the k-tuples satisfying $1 \leq i_1 < \cdots < i_k \leq n$. Show that $U_k = I_{n-k+1}$.
\end{exercise}
\begin{proof}
    Suppose without loss of generality that $k \leq n-k+1$, let $\om \in U_k$, then there is a finite sequence $(i_1, \ldots, i_k)$ such that $\om \in A_{i_t}$ for $1 \leq t \leq k$, let $(j_t)$ be a finite sequence of length $n-k+1$ such that $1 \leq j_1 < \cdots < j_{n-k+1} \leq n$, then we note that it is impossible to choose such a sequence without choosing any of the $i_t$, since we have $(n-k+1)$ holes to fill and (if we try not to choose any of the $i_t$), $n-k$ numbers. It follows that for any such sequence we have $\om \in \bigcup_{t=1}^{n-k+1} A_{j_t}$ and hence $\om \in I_{n-k+1}$, it follows that $U_k \seq I_{n-k+1}$. \\
    Suppose that $\om \in I_{n-k+1}$, then there are at least $k$ distinct sets $A_m$ such that $\om \in A_m$ since if we suppose that they are less than $k$ such sets, then we can choose $n-(k-1)$ sets from $A_1, \ldots, A_n$, sort them in increasing order and index them by $(j_t)$ then we have $\om \notin A_{j_t}$ for $t \in \{ 1, \ldots, n-k+1 \}$ which is a contradiction to $\om \in I_{n-k+1}$. It follows that there are $k$ distinct sets $A_m$ such that $\om \in A_m$, sort them in increasing order of $m$ and index them by $i_1, \ldots, i_{k}$, then $\om \in (A_{i_1} \ic \cdots \ic A_{i_k})$ and as such $\om \in U_k$. It follows that $I_{n-k+1} \seq U_k$ and therefore $I_{n-k+1} = U_k$.
\end{proof}

\begin{exercise}{2.3}
    \begin{enumerate}
        \item Suppose that $\Omega \in \F$ and that $A, B \in \F$ implies $A - B \in \F$. Show that $\F$ is a field.
        \item Show that $\Om \in \F$ and that $\F$ is closed under the formation of complements and finite disjoint unions. Show that $\F$ need not be a field.
    \end{enumerate}
\end{exercise}
\begin{proof}
    \begin{enumerate}
        \item \begin{enumerate}
            \item Note that $\Om \in \F$ (given) and since $\Om \in \F$ implies $\Om - \Om = \es \in \F$ we have $\es \in \F$.
            \item Let $A \in \F$, then $A^{c} = \Om - A \in \F$.
            \item Let $A, B \in \F$, then because $A^{c} \in \F$ we have
            \[ (A \un B)^{c} = A^{c} - B \in \F \]
            And then $A \un B = ((A \un B)^{c})^{c} \in \F$.
        \end{enumerate} 
        \item Let $\Om = \{ 1, 2, 3, 4 \}$ and let 
        \[ A = \{ \es, \{ 1, 2 \}, \{ 2, 3 \}, \{ 3, 4 \}, \{ 1, 4 \}, \{ 1, 2, 3, 4 \} \} \]
        Then $A$ is closed under complements and disjoint unions, but not unions since \[ \{ 1, 2 \} \un \{ 2, 3 \} = \{ 1, 2, 3 \} \notin A \]
        It follows that $A$ is not a field.
    \end{enumerate}
\end{proof}

\begin{exercise}{2.4}
    Let $\F_1, \F_2, \ldots$ be classes of sets in a common space $\Om$.
    \begin{enumerate}
        \item Suppose that $\F_n$ are fields satisfying $\F_n \seq \F_{n+1}$. Show that $\bigcup_{n} \F_n$ is a field.
        \item Suppose that $\F_n$ are $\sigma$-fields satisfying $\F_n \seq \F_{n+1}$. Show that $\bigcup_{n} F_n$ need not be a $\sigma-$field.
    \end{enumerate}
\end{exercise}
\begin{proof}
    \begin{enumerate}
        \item Let $\F = \bigcup_{n} \F_n$. Then,
        \begin{enumerate}
            \item Since $\Om \in \F_n$ and $\es \in \F_n$ for all $n$, we have $\Om \in \F$.
            \item Let $A \in \F$, then $A \in \F_n$ for some $n \in \N$, then $A^{c} \in \F_n$ and hence $A \in \F$.
            \item Let $A, B \in \F$, suppose that $A \in \F_n$ and that $B \in \F_m$ and that $n \leq m$, then because $\F_n \seq \F_{n+1} \cdots \seq\F_m $ it follows that $A, B \in \F_n$, hence $A \un B \in \F_n$ and as such $A \un B \in \F$.
        \end{enumerate}
        \item Let $\Om = \N$, let $A_n = \mc P (\{ 1, \ldots, n \})$ and define,
        \[ \F_n = A_n \un \{ \es, \N \} \un \{ X \seq \N \mid X = \N - Y \text { for some } Y \in A_n\}  \]
        It is straightforward to prove by induction on $n$ that each $\F_n$ is a $\sigma$-field and that $\F_n \seq \F_{n+1}$. Let $\F = \bigcup_{n} F_n$, then $\F$ is a countable union of countable sets and as such is countable, but this is a contradiction to Exercise 2.12. Note that the field in question $\F$ is a countably infinite field by Part (1) of this exercise yet it is not a $\sigma$-field.
    \end{enumerate}
\end{proof}

\begin{exercise}{2.5}
    The field $f (\A)$ generated by a class $\A$ in $\Om$ is defined as the intersection of all fields in $\Om$ containing $\A$.
    \begin{enumerate}
        \item Show that $f(\A)$ is a field, that $\A \seq f(\A)$ and that $f(\A)$ is minimal in the sense that if $\G$ is a field and $\A \seq \G$, then $f(\A) \seq G$.
        \item Show that for nonempty $\A$, $f(\A)$ is the class of sets of the form $\bigcup_{i=1}^{m} \bigcap_{j=1}^{n_i} A_{ij}$ where for each $i$ and $j$ either $A_{ij} \in \A$ or $A_{ij}^{c} \in \A$, and where the $m$ sets $\bigcap_{j=1}^{n_j} A_{ij}$, $1 \leq i \leq m$, are disjoint.
    \end{enumerate}
\end{exercise}
\begin{proof}
    \begin{enumerate}
        \item That $f(\A)$ is minimal is straightforward from the definition. To see that it is a field,
        \begin{enumerate}
            \item Let $\F$ be any field containing $\A$, then $\Om \in \F$ and $\es \in \F$ imply $\Om \in f(\A)$ and $\es \in f(\A)$.
            \item Suppose that $A \in f(\A)$, then $A \in \F$ for all fields $\F$ containing $\A$, hence $A^{c} \in \F$ for all fields containing and therefore $A^{c} \in f(\A)$.
            \item If $A, B \in f(\A)$, then $A \un B \in f(\A)$ by a similar argument to (b).
        \end{enumerate}
        \item Let 
        \begin{align*}
            \G = \Big \{ \bigcup_{i=1}^{m} \bigcap_{j=1}^{n_i} A_{ij} : & A_{ij} \in \A \text { or } A_{ij}^{c} \in \A, m \geq 0, n_i \geq 0, \\
            & \text { and the }  \bigcap_{j=1}^{n_i} A_{ij} \text { are disjoint} \Big \}
        \end{align*}
        First we prove that $\G$ is a field for nonempty $\A$,
        \begin{enumerate}
            \item Let $A_{11} \in \A$, taking $m=2$, $n_1 = n_2 = 1$ and $A_{21} = \Om - A_{11}$ we have
            \[ \bigcup_{i=1}^{m} \bigcap_{j=1}^{n_i} A_{ij} = (A_{11}) \un (\Om - A_{11}) = \Om \]
            Hence $\Om \in \G$. Taking $m=1$, $n_1 = 2$ with $A_{11}$ and $A_{12} = \Om - A_{11}$ yields $\es \in \G$.
            \item Let $A \in \G$ and $B \in \G$, then
            \[ A = \bigcup_{i=1}^{m} \bigcap_{j=1}^{n_i} A_{ij} \text { and } B = \bigcup_{i=1}^{s} \bigcap_{j=1}^{t_i} B_{ij} \]
            Suppose without loss of generality that $m \geq s$, then let $C_{i,j} = A_{i,j}$ if $1 \leq i \leq m$ and $1 \leq j \leq n_j$, and let $C_{i, j+n_j} = B_{i, j}$ if $1 \leq i \leq s$ and $1 \leq j \leq n_j$, and let $v_i = n_i + t_i$ if $1 \leq i \leq s$ and $v_i = n_i$ otherwise, then 
            \[ C = \bigcup_{i=1}^{m} \bigcap_{j=1}^{v_i} C_{ij} = A \ic B \]
            with the $m$ sets $\bigcap_{j=1}^{v_i} C_{ij}$ obviously disjoint. It follows that $C \in \G$ and hence $A \ic B \in \G$ if $A, B \in \G$.
            \item Suppose that $A \in \G$, then there exist $A_{ij}$ such that
            \[ A = \bigcup_{i=1}^{m} \bigcap_{j=1}^{n_i} A_{ij}  \longrightarrow A^{c} = \bigcap_{i=1}^{m} \bigcup_{j=1}^{n_i} A_{ij}^{c} \]
            Take $B_{i} = \bigcup_{j=1}^{n_i} A_{ij}^{c}$, note that either $A_{ij} \in \A$, in which case $(A_{ij}^{c})^c \in \A$ or $A_{ij}^{c} \in \A$, it follows that $B_i \in \G$ (with $m = 1$) for $1 \leq i \leq m$. Now we invoke part (b) (and induction) to conclude that
            \[ A^{c} = \left (B_1 \ic B_2 \ic \cdots \ic B_m \right) \in \G \] 
            \item Finally, let $A, B \in \G$, then
            \[ A \un B = (A^{c} \ic B^{c})^{c} \in \G \]
            Hence $A \un B \in \G$ if $A, B \in \G$, and therefore $\G$ is a field.
        \end{enumerate}
        It follows that $\G$ is a field such that $A \seq \G$, therefore $f(\A) \seq \G$. To see that $\G \seq f(\A)$, let $X \in \G$, then
        \[ X = \bigcup_{i=1}^{m} \bigcap_{j=1}^{n_i} A_{ij} \]
        where either $A_{ij} \in \A$ or $A_{ij} \in \A^{c}$, note that each $A_{ij} \in f(\A)$ (since each singleton $A_{ij} \in \A \seq f(\A)$ or $A_{ij}^{c} \in \A$, hence $A_{ij}^{c} \in f(\A)$ and therefore $A_{ij} \in f(\A)$ since $f(\A)$ is closed under complements). Then $X$ is a finite union over finite intersections of sets in $f(\A)$, and is therefore in $f(\A)$ because $f(\A)$ is a field. It follows that $\G \seq f(\A)$, as required. 
    \end{enumerate}
\end{proof}

\begin{exercise}{2.6}
    \begin{enumerate}
        \item Show that if $\A$ consists of the singletons, then $f(\A)$ is the field in Example 2.3. From Example 2.3: $\F$ is the set of all finite and cofinite ($A$ being cofinite if $A^c$ is finite) subsets of $\Om$.
        \item Show that $f(\A) \seq \sigma (\A)$, that $f(\A) = \sigma (\A)$ if $\A$ is finite, and that $\sigma (f(\A)) = \sigma (\A)$.
        \item Show that if $\A$ is countable, then $f(\A)$ is countable.
        \item Show for fields $\F_1$ and $\F_2$ that $f(\F_1 \un \F_2)$ consists of the finite disjoint unions of sets $A_1 \ic A_2$ with $A_i \in \F_i$. Extend.
    \end{enumerate}
\end{exercise}
\begin{proof}
    \begin{enumerate}
        \item Let $\F = f(\A)$. Let $X \in \F$, then by Exercise 2.5 
        \[ X = \bigcup_{i=1}^{m} \bigcap_{j=1}^{n_i} A_{ij} \]
        where either $A_{ij} \in \A$ or $A_{ij}^c \in \A$, let $X_i = \bigcap_{j=1}^{n_i} A_{ij}$. Fix $i$, if any $A_{ij} \in \A$ then $X_i$ is at most a singleton, and therefore finite. Suppose that for all $1 \leq j \leq n_i$ we have $A_{ij}^{c} \in \A$, then
        \[ X_{i} = \bigcap_{j=1}^{n_j} A_{ij} \longrightarrow X_{i}^{c} = \bigcup_{j=1}^{n_j} A_{ij}^{c} \]
        Note that each of the $A_{ij}^{c}$ is in $\A$ and therefore a singleton, it follows that $X_i^{c}$ is a finite union of singletons and is therefore finite, hence $X_i$ is cofinite. It follows that $X_i$ is either finite or cofinite, if all the $X_i$ are finite then $X$ is finite, otherwise note that
        \begin{align*}
            X^{c} &= \bigcap_i X_i^{c} = \left (\bigcap_{X_i \text { finite }} X_i^{c} \right) \bigcap \left (\bigcap_{X_{i} \text { cofinite }} X_i^{c} \right) 
        \end{align*}
        Note that the for the cofinite $X_i$, $X_i^{c}$ is finite, hence $X^{c}$ is finite, and therefore $X$ is cofinite. It follows that $X$ is either finite or cofinite, as required.
        \item If $X \in f(\A)$, then $X$ is a finite union over intersections of sets (or complements of sets) in $\A$, and is therefore in $\sigma (\A)$, hence $f(\A) \seq \sigma (\A)$. \\
        If $\A$ is finite, then countable unions over elements of $\A$ can always be rewritten as finite unions over elements of $\A$, which are in $f(\A)$, it would then follow that $f(\A) = \sigma (\A)$. \\
        If $\G$ is a $\sigma$-field containing $f(\A)$, then because $\A \seq f(\A)$ we have that $\G$ is a $\sigma$-field containg $\A$, hence $\sigma (\A) \seq \G$, taking the intersection over all such $\G$'s yields $\sigma (\A) \seq \sigma (f (\A))$, it follows that since $\sigma (f(\A))$ as well we must have $\sigma (f(\A)) = \sigma (\A)$. 
        \item If $\A$ is countable, then every $X \in f(\A)$ is countable (since $X$ is a finite union over a finite intersection of countable sets), and since $f(\A)$ is a countable union of singletons (each containing one such set) then $f(\A)$ is countable.
        \item Let $X \in f(\F_1 \un \F_2)$, let $X \in f(\F_1 \un \F_2)$, then
        \[ X = \bigcup_{i=1}^{m} \bigcap_{j=1}^{n_i} A_{ij} \]
        with $A_{ij} \in \F_1 \un \F_2$ or $A_{ij}^{c} \in \F_1 \un \F_2$. Note that $A_{ij} \in \F_k$ and $A_{ij}^{c} \in \F_k$ are equivalent for fields, therefore we need only worry about one of them. Let $X_i = \bigcap_{j=1}^{n_i} A_{ij}$ and rewrite it as $X_i = \bigcap_{k=1}^{2} X_{i, k}$ where $X_{i, k} = \bigcap_{j : A_{ij} \in \F_{k} } A_{ij}$, because each of the $X_{i, k}$ is a finite intersection of sets in $\F_k$, then $X_{i, k} \in \F_k$ and hence
        \[ X = \bigcup_{i=1}^{m} (X_{i, 1} \ic X_{i, 2}) \]
        where the sets $X_{i, 1} \ic X_{i, 2}$ are all disjoint (because all the $X_i$ are disjoint), as required. The analysis extends directly to any $k \in \N$ such that $k \geq 1$.
    \end{enumerate}
\end{proof}

\begin{exercise}{2.7}
    Let $H$ be a set lying outside $\F$, where $\F$ is a field (or $\sigma$-field). Show that the field (or $\sigma$-field) generated by $\F \un \{ H \}$ consists of sets of the form
    \[ (H \ic A) \un (H^{c} \ic B), \text { where } A, B \in \F \]
\end{exercise}
\begin{proof}
    Let $\F$ be a $\sigma$-algebra and $H$ be a set lying outside $\F$, define
    \[ \G = \{ (H \ic A) \un (H^{c} \ic B) \mid A, B \in \F \} \]
    We first prove that $\G$ is a $\sigma$-algebra.
    \begin{enumerate}
        \item $\es = (H \ic \es) \un (H^{c} \ic \es)$ and $\Om = (H \ic \Om) \un (H^{c} \ic \Om)$, hence $\es \in \G$ and $\Om \in \G$.
        \item Let $X, Y \in \G$ be such that
        \[ X = (H \ic A_1) \un (H^{c} \ic B_1) \text{ and } Y = (H \ic A_2) \un (H^{c} \ic B_2) \]
        Then, using boolean indicator notation for simplicity:
        \begin{align*}
            X - Y &= X \bar{Y} = (H A_1 + \bar H B_1) (\bar H + \bar A_2) (H + \bar B_2) \\
            &= H(A_1 \bar A_2 + A_1 \bar A_2 \bar B_2) + \bar H (B_1 \bar B_2 + B_1 \bar A_2 \bar B_2) = H A_1 \bar A_2 + \bar H B_1 \bar B_2 \\
            &= (H \ic (A_1 - A_2)) \un (H^{c} \ic (B_1 - B_2)) \in \G
        \end{align*}
        Because $A_1 - A_2 \in \F$ and $B-1 - B_2 \in \F$, we have $X - Y \in \G$. As a special case, we have $X^{c} = \Om - X \in \G$.
        \item Let $(X_i) \in \G$ and suppose that $X_i = H A_i + \bar H B_i$ for all $i \in \N$, then
        \begin{align*}
            \bigcup_{i=1}^{\infty} X_i &= \Sum_{i=1}^{\infty} X_i = \Sum_{i=1}^{\infty} (H A_i + \bar H B_i) = H \Sum_{i} A_i + \bar H \Sum_{i} B_i \\
            &= H \left ( \bigcup_{i=1}^{\infty} A_i \right) + \bar{H} \left ( \bigcup_{i=1}^{\infty} B_i \right)
        \end{align*}
        Because $\F$ is a $\sigma$-field, then $\left ( \bigcup_{i=1}^{\infty} A_i \right) \in \F$ and $\left ( \bigcup_{i=1}^{\infty} G_i \right) \in \F$, hence $\left ( \bigcup_{i=1}^{\infty} X_i \right) \in \G$, as required.
    \end{enumerate}
    It follows that $\sigma(\F \un \{ H \}) \seq \G$. Let $X \in \G$, then $X = (H \ic A) \un (H^{c} \ic B)$ for $A, B \in \F$, noticing that $A, B, H, H^{c} \in \sigma (\F \un \{ H \})$, it follows that $X \in \sigma (F \un \{ H \})$, and because $X$ was arbitrary we have $\G \seq \sigma (\F \un \{ H \})$ and therefore $G = \sigma (\F \un \{ H \})$, as required. A similar proof works when $\F$ is an algebra (there is in fact an easier proof for that case using Exercise 2.6).
\end{proof}

\begin{exercise}{2.8}
    Suppose for each $A \in \A$ that $A^{c}$ is a countable union of elements of $\A$. The class of intervals in $[0, 1)$ has this property. Show that $\sigma (\A)$ coincides with the smallest class over $\A$ that is closed under the formation of countable unions and intersections.
\end{exercise}
\begin{proof}
    Let $\G$ be closed under the formation of countable unions and intersections and $\A \seq \G$, then
    \begin{enumerate}
        \item Let $A \in \A$, then $A^{c}$ is a countable union of elements of $\A$, and hence $A^{c} \in \G$.
        \item Let $A \in \A$, then $\es = A \ic A^{c}$ implies $\es \in \G$ and $\Om = A \un A^{c}$ implies $\Om \in \G$.
        \item $\G$ is closed under countable unions by definition.
    \end{enumerate}
    Hence $\G$ is a $\sigma$-algebra, and it follows that $\sigma (\A) \seq \G$, let $s(\A)$ denote the intersection of all such sets $\G$, then $\sigma (\A) \seq s(\A)$. Let $\F$ be a $\sigma$-algebra such that $\A \seq \F$, then $\F$ is closed under countable unions and intersections over $\A$, hence $s(\A) \seq \F$, and because $\F$ was arbtirary we have $s(\A) \seq \sigma(\A)$. It follows that $\sigma (\A) = s(\A)$, as required.
\end{proof}

\begin{exercise}{2.9}
    Show that, if $B \in \sigma (\A)$, then there exists a countable subclass $\A_{B}$ of $\A$ such that $B \in \sigma (\A_{B})$.
\end{exercise}
\begin{proof}
    Define
    \[ \G = \{ B \in \sigma (\A) : \text{ There exists a countable subclass } \A_{B} \text { of } \A \text { with } B \in \sigma (\A_B) \} \]
    We first show that $\G$ is a sigma algebra:
    \begin{enumerate}
        \item Choose any sequence $A_1, A_2, \ldots \in \A$, let $\A_{A} = \{ A_1, A_2, \ldots \}$, then $\A_{A}$ is a countable subclass of sets in $\A$, and $\es \in \sigma (\A_A)$ and $\Om \in \sigma (\A_A)$, hence $\es \in \G$ and $\Om \in \G$.
        \item Let $B \in \G$, then there is a countable subclass $\A_B$ of $\A$ with $B \in \sigma (\A_B)$, since $B^{c} \in \sigma (\A_B)$ as well, it follows that $B^{c} \in \G$.
        \item Suppose that $B_1, B_2, \ldots$ is a sequence of sets in $\G$. Then there exists a sequence $\A_{B_1}, \A_{B_2}, \ldots$ of countable subclasses of $\A$ with $B_i \in \sigma (\A_{B_i})$ for $i \geq 1$. Let $\A_{B} = \bigcup_{i=1}^{\infty} \A_{B_i}$, and note that $\A_B$ is a countable union of countable sets, and is therefore a countable subclass of sets in $\A$. Since $B_1, B_2, \ldots$ are all in $\A_B$, it follows that $\bigcup_{i=1}^{\infty} B_i \in \sigma (\A_B)$, and because $\A_B$ has been proven countable we have $\bigcup_{i=1}^{\infty} B_i \in \G$.
    \end{enumerate}
    Since $\G$ is a $\sigma$-algebra with $\A \seq \G$, it follows that $\sigma (\A) \seq \G$, but from the definition of $\G$ we have $\G \seq \sigma (\A)$, hence $\G = \sigma (\A)$, which proves what we want.
\end{proof}

\begin{exercise}{2.10}
    \begin{enumerate}
        \item Show that if $\sigma (\A)$ contains every subset of $\Omega$, then for each pair $\om$ and $\om'$ of distinct points in $\Om$ there is in $\A$ an $A$ such that $I_A (\om) \neq I_A (\om')$.
        \item Show that the reverse implication holds if $\Om$ is countable.
        \item Show by example that the reverse implication need not hold for uncountable $\Om$.
    \end{enumerate}
\end{exercise}
\begin{proof}
    \begin{enumerate}
        \item Suppose that there is a pair of points $\om$ and $\om'$ of distinct points in $\Om$ such that $I_{A} (\om) = I_{A} (\om')$ for all $A \in \A$. Define 
        \[ \G = \{ B \in \sigma (\A): I_{B} (\om) = I_{B} (\om') \} \]
        We prove that $\G$ is a $\sigma$-algebra
        \begin{enumerate}
            \item $\om \notin \es$ and $\om' \not\in \es$, hence $\es \in \G$. $\om \in \Om$ and $\om' \in \Om$, hence $\Om \in \G$.
            \item Suppose that $B \in \G$, then $I_B (\om) = I_B (\om')$ and hence 
            \[ I_{B^c} (\om) = 1 - I_{B} (\om) = 1 - I_B (\om') = I_{B^c} (\om') \]
            It follows that $B^{c} \in \G$.
            \item Suppose that $B_{1}, B_{2}, \ldots$ is a sequence of sets in $\G$. Let $B = \bigcup_{i} B_i$, obviously $B \in \sigma (\A)$. If there is some $B_{i}$ such that $\om \in B_i$, then $\om' \in B_i$ and hence $\om \in B$ and $\om' \in B$, therefore $I_B (\om) = I_B (\om')$. If not, then for all $B_{i}$ we have $I_{B_i} (\om) = I_{B_i} (\om') = 0$ then $\om \notin B_{i}$ for all $i \in \N$, hence $\om \notin B$ and similarly $\om' B$, and we see that in both cases we have $I_B (\om) = I_B (\om')$, therefore $B \in \G$.
        \end{enumerate}
        Hence $\G$ is a $\sigma$-algebra, and clearly $\G$ contains $\A$ (since we assume that $I_A (\om) = I_A (\om')$ for all $A \in \A$ and for any such $A$ we have $A \in \sigma(\A)$), it follows that $\sigma (\A) \seq \G$, but $\G \seq \sigma (\A)$, hence $\G = \sigma (\A)$, but this is a contradiction since 
        \[ \{ \om \} \notin \G \text { yet } \{ \om \} \in \mc P (\Om), \]
        It follows that there can be no such pair of points.
        \item Suppose that $\Om$ is countable. Let $\om \in \Om$, produce an enumeration $\om_1, \om_2, \ldots$ of elements in $\Om - \{ \om \}$ (which is also countable). Define $B_{i}$ to be a set such that $I_{B_i} (\om_i) \neq I_{B_i} (\om)$ for all $i \geq 2$. If $\om \in B_i$ let $A_i = B_i$, then $\om \in B_i$ and $\om_i \notin B_i$, If $\om \notin B_i$, let $A_i = B_i^{c}$, then $\om \in A_i$ and $\om_i \notin A_i$. We see that for each $A_{i}$ we have $\om \in A_i$ and $\om_i \notin A_i$, hence
        \[ \bigcap_{i=1}^{n} A_i = \{ \om \} \]
        Noticing that each $A_i \in \sigma (\A)$ we see that $\{ \om \} \in \sigma (\A)$, and because $\om$ was arbitrary we see that $\sigma (\A)$ includes all the singletons and hence includes any subset of $\Om$, since any such subset is a countable union of singletons in $\sigma (\A)$. 
        \item Let $\Om = [0, 1)$. Let 
        \[ \A = \left \{ \{ a \} : a \in \Om \right \} \]
        Define
        \[ \G = \{ B \in \sigma (\A) \mid B \text { is countable  or cocountable    } \} \]
        We prove that $\G$ is a $\sigma$-algebra:
        \begin{enumerate}
            \item Since $\es$ is countable we have $\es \in \G$ and $\Om = \es^{c} \in \G$.
            \item If $B \in \G$, then either $B$ is countable and we have $B^{c}$ is cocountable or $B$ is cocountable and we have $B^{c}$ countable, and in both cases $B^{c} \in \G$. 
            \item Suppose $B_1, B_2, \ldots$ is a sequence of sets in $\G$, write $B = \bigcup_i B_i$ as
            \[ B = \left ( \bigcup_{i, B_i \text { countable }} B_i \right ) \un \left ( \bigcup_{i, B_i \text { cocountable }} B_i \right ) = C \un D \]
            where $C$ is the union of the countable $B_i$ and $D$ is the union of the cocountable $B_i$, then
            \[ D^{c} = \bigcap_{i, B_i \text { cocountable }} B_i^{c}  \]
            Note that each of the $B_i^{c}$ is countable, and hence $D^{c}$ is countable. Note that since $C$ is countable (as a countable union of countable sets), hence $C^{c}$ is cocountable, then
            \[ B^{c} = C^{c} \ic D^{c} \]
            If $D$ is nonempty then $B^{c}$ is countable, otherwise $B^{c}$ is cocountable and we see that $B^c \in \G$, hence $B \in \G$.
        \end{enumerate}
        It follows that $\G$ is a $\sigma$-algebra, and since every element in $\A$ is countable or cocountable we see that $\A \seq \G$, hence $\sigma (\A) \seq \sigma (\G) = \G$, but $\G \seq \sigma (\A)$ by definition implies $\A = \sigma \G$. Now take any $B = [0, 0.5)$, B is obviously neither countable nor cocountable, hence $B \notin \G$. It follows that $\sigma (\A) \neq \mc P (\Om)$. Finally, for any pair of points $\om, \om'$, taking $A = \{ \om \}$ we have $A \in \A$ and $I_A (\om) \neq I_A (\om')$, as required.
    \end{enumerate}
\end{proof}

\begin{exercise}{2.11}
    A $\sigma$-field is countably generated or separable if it is generated by some countable class of sets.
    \begin{enumerate}
        \item Show that the $\sigma$-field $\B$ of Borel sets is countably generated.
        \item Show that the $\sigma$-field of Example 2.4 ($\F$ is the set of the countable and cocountable sets) is countably generated if and only if $\Om$ is countable.
        \item Suppose that $\F_1$ and $\F_2$ are $\sigma$-fields, $\F_1 \seq \F_2$, and $\F_2$ is countably generated. Show by example that $\F_1$ may not be countably generated.
    \end{enumerate}
\end{exercise}
\begin{proof}
    \begin{enumerate}
        \item Take $J$ to be the set of subintervals of $[0, 1)$ with rational endpoints. There exists an obvious injection from $J$ to $\Q^2$, hence $J$ is countable.  Take $J_1$ to be the set of all countable unions and intersections of elements of $J$, then for any subinterval $[a, b)$ of $[0, 1)$, we can find sequences of rationals $(a_n)$ with $a_n \uparrow a$ and $(b_n)$ with $b_n \downarrow b$, then taking the intersection of all intervals $[a_n, b_n)$ we have $[a, b) \in J_1$. Note that by definition, $\sigma (J_1) = \B$. Now note that obviously $J_1 \seq \sigma (J)$, and hence 
        \[ \B = \sigma (J_1) \seq \sigma (\sigma (J)) = \sigma (J) \]
        But since $J \seq J_1$ we have $\sigma (J) \seq \sigma (J_1) = \B$, and it follows that $\sigma (J) = \B$ and that $\B$ is countably generated.
        \item If $\Om$ is countable, then $\F$ is countably generated since it can be generated by the singletons (as shown in Exercise 2.10). \\
        If $\Om$ is uncountable, and suppose that $\F$ is countably generated. Let $\A$ be a countable family of sets such that $\F = \sigma (\A)$. TBD.
        \item TBD
    \end{enumerate}
\end{proof}

\begin{exercise}{2.12}
    Show that a $\sigma$-field cannot be countably infinite-- its cardinality must be finite or else at least that of the continuum. Show by example that a field can be countably infinite.
\end{exercise}
\begin{proof}
    Suppose that $\F$ is some $\sigma$-field over a sample space $\Om$. If $\Om$ is finite, then $\F \seq \mc P (\Om)$ and hence $\F$ is finite. \\
    (Used a strong hint on this one) Suppose that $\Om$ is infinite and that $\F$ is an infinite sigma algebra over $\Om$. Let $(A_n)$ be a sequence in the sigma algebra of pairwise distinct (not necessarily disjoint) sets. Let $A_{n}^{1} = A$ and $A_{n}^{-1} = \Om \backslash A$. Define 
    \[ f(x) = \bigcap_{n} A_{n}^{x_n} \text { for all } x = (x_{n}) \in \{ -1, 1 \}^{\N} \]
    Define
    \[ \G = \left \{ f(x) \mid x \in \{ -1, 1 \}^{\N} \text { and } f(x) \right \} \]
    We now prove that $\G$ contain infinitely many distinct sets, and that the distinct sets are pairwise disjoint. Note that each 
    \[ A_{n} = \bigcup_{x \text{ such that } x_n = 1} f(x) \]
    Since the $A_{n}$ are distinct, then there must be infinitely many distinct sets in $\G$: suppose otherwise and let $B_1, \ldots, B_{m}$ be the distinct sets in $\G$, because each $A_n$ can be identified with the subset of $\G$ on which the union is done and there can only be at most $2^{m}$ such distinct sets, it follows that there would be at most $2^{m}$ distinct sets $A_n$ which is a contradiction. \\
    Suppose that $x, y$ are sequences such that $f(x) \ic f(y) \neq \es$, let $u \in f(x)$ and $u \in f(y)$, then for any $A_{n} \in \N$ we must have $x_n = 1$ and $y_n = 1$ if $u \in A_n$ and $x_n = -1$ and $y_n = -1$ if $u \notin A_n$, hence we have $x_n = y_n$ for all $n$, and it follows that $f(x) = f(y)$. We see that for any two sets in $\G$ they must either be equal or disjoint. But we have already seen there is an infinity of distinct sets in $\G$, and hence there is an infinity of disjoint sets in $\G$, enumerate a sequence of such disjoint sets $(C_i)_{i=1}^{\infty}$ where $C_{i} \in \G$ for all $i \in \N$, the cardinality of the set of all unions of sets $C_{i}$ is equal to the cardinality of the continuum, and all these unions must lie in $\F$, it follows that the cardinality of $\F$ is at least the cardinality of $\R$.
\end{proof}

\begin{exercise}{2.13}
    \begin{enumerate}
        \item Le $\F$ be the field consisting of the finite and the cofinite sets in an infinite $\Om$, and define $P$ on $\F$ by taking $P(A)$ to be $0$ or $1$ as $A$ is finite or cofinite. (Note that $P$ is not well defined if $\Om$ is finite.) Show that $P$ is finitely additive.
        \item Show that this $P$ is not countable additive if $\Om$ is countably infinite.
        \item Show that this $P$ is countably additive if $\Om$ is uncountable.
        \item Now let $\F$ be the $\sigma$-field consisting of the countable and the cocountable sets in an uncountable $\Om$, and define $P$ on $\F$ by taking $P(A)$ to be $0$ or $1$ as $A$ is countable or cocountable. (Note that $P$ is not well defined if $\Om$ is countable.) Show that $P$ is countably additive.
    \end{enumerate}
\end{exercise}
\begin{proof}
    \begin{enumerate}
        \item Let $A, B \in \F$ such that $A \ic B = \es$. If $A$ is finite and $B$ is cofinite, then since $(A \un B)^{c} = A^{c} \ic B^{c}$ is finite we have $A \un B$ cofinite, and hence $P(A \un B) = 1 = 0 + 1 = P(A) + P(B)$, if $A$ is finite and $B$ is finite then $A \un B$ is finite and hence $P(A \un B) = 0 = 0 + 0 = P(A) + P(B)$. The other cases follow similarly.
        \item Suppose that $\Om$ is countably infinite and let $a_1, a_2, \ldots$ be an enumeration of $\Om$. Let $A_{i} = \{ a_i \}$ and note that $A_{i} \in \F$ for all $i$ and that the $A_i$ are all finite, but that $\bigcup_{i} A_i = \Om$ is cofinite. If $P$ is countably additive then
        \[ 1 = P(\Om) = \sum_{i} P(A_i) = \sum_{i} 0 = 0 \]
        And we get a contradiction.
        \item Suppose that $\Om$ is uncountable. Let $(A_i)$ be a sequence of disjoint sets in $\F$. If one of the $A_{i}$ is cofinite, then $\bigcup_i A_i$ is cofinite as well and hence $P(\bigcup_i A_i) = 1$, note that there can only be one cofinite set in the sequence (or else they would not be disjoint), it follows that $\sum_{i} P(A_i) = 1 = P(\bigcup_i A_i)$. If none of the $A_i$ is cofinite, then all the $A_i$ are finite. If $\bigcup_{i} A_{i}$ is finite then we are done since $\sum_i P(A_i) = 0 = P(\bigcup_i A_i)$, if not then $\bigcup_i A_i \notin \F$ because it is not cofinite: suppose that it were cofinite, then
        \[ B = \bigcap_i A_{i}^{c} \text { is finite } \]
        And we can write $\Om = \bigcup_{i} A_i \un B$ as a countable union of finite sets which is countable, and we get a contradiction. It follows that $\bigcup_i A_i \not\in \F$ and hence $P$ is countably additive on $\F$.
        \item Similar proof to (3) but using the fact that a countable union of countable sets is countable.
    \end{enumerate}
\end{proof}

\begin{exercise}{2.14}
    In $(0, 1]$ let $\F$ be the class of sets that either (i) are of the first category or (ii) have complement of the first category. Show that $\F$ is a $\sigma$-field. For $A \in \F$, take $P(A)$ to be $0$ in case $(i)$ and $1$ in case (ii). Show that $P$ is countably additive.
\end{exercise}
\begin{proof}
    We first prove that $\F$ is a $\sigma$-field:
    \begin{enumerate}
        \item Since $\es$ is of the first category, then $\Omega \in \F$ since its complement is of the first category.
        \item If $A \in \F$ then either $A$ is of the first category or $A^{c}$ is, in the first case then $(A^{c})^{c}$ is of the first category and hence $A^{c} \in \F$, in the second case $A^{c}$ is in the first category and hence $A^{c} \in \F$.
        \item Suppose that $A \in \F$ and $B \in \F$. If both $A$ and $B$ are of the first category then $A \un B$ is of the first category (easily seen from the definition) and hence $A \un B \in \F$. If $A$ is in the first category and $B$ is the complement of a first-category set, then
        \[ (A \un B)^{c} = A^{c} \ic B^{c} \seq B^{c} \]
        which shows that $(A \un B)^{c}$ is a first-category set, hence $A \un B \in \F$. A similar proof works if $A$ and $B$ are both complements of first-category sets.
    \end{enumerate}
    We now prove that $P$ is countably additive: Let $(A_i)_i$ be a disjoint sequence of sets in $\F$. If all the $A_i$ are of the first category then their union is, and hence $P(\cup_i A_i) = 0 = \sum_i P(A_i)$. Suppose that some of the $A_i$ are not of the first category: we claim that there can be only one such set, to see this: suppose that $A_m$ and $A_n$ both have complements of the first-category, then 
    \[ (A_m \ic A_n)^{c} = A_m^{c} \un A_n^{c} \neq \Om \]
    where the last inequality is because both $A_m^{c}$ and $A_n^{c}$ are of the first category and hence cannot contain the entire space (or $A_m^{c} \un A_n^{c}$, a first-category set, would be dense in it), but this implies $A_m \ic A_n \neq \es$, which is a contradiction. It follows that only one such $A_i$ is not of the first category, it's then easy to prove that $\bigcap A_i^{c}$ is of the first category, and hence $P \left ( \bigcup_i A_i \right ) = 1 = \sum_i P(A_i)$, as required.
\end{proof}

\begin{exercise}{2.15}
    On the field $\B_0$ in $(0, 1]$ define $P(A)$ to be $1$ or $0$ according as there does or does not exist some positive $\e_A$ (depending on $A$) such that $A$ contains the interval $\left ( \frac{1}{2}, \frac{1}{2} + \e_A \right ]$, Show that $P$ is finitely but not countable additive. No such example is possible for the field $\ell_0$ in $S^{\infty}$ (Theorem 2.3).
\end{exercise}
\begin{proof}
    We first prove finite additivity: Suppose that $A$ and $B$ and both in $\B_0$ such that $A$ and $B$ are disjoint. If $P(A) = P(B) = 1$ then letting $\e = \min \{ \e_A, \e_B \}$ we get $A \ic B \neq \es$ (since $\left ( \frac{1}{2}, \frac{1}{2} + \e \right ]$ is in both), it follows that both cannot be one. Suppose $P(A) = P(B) = 0$, then $P(A \un B) = 0$: suppose otherwise, then $A \un B$ must contain some interval $\left ( \frac{1}{2}, \frac{1}{2} + \e \right ]$, but this would imply that either $A$ or $B$ contain some subinterval $\left ( \frac{1}{2}, \frac{1}{2} + \eta \right ]$ (since they're in $\B_0$), which is a contradiction. Finally, suppose without loss of generality that $P(A) = 1$ and $P(B) = 0$, then $\left ( \frac{1}{2}, \frac{1}{2} + \e_A \right ] \seq A \seq A \un B$  and hence \[ P(A \un B) = 1 = 1 + 0 = P(A) + P(B). \]
    To see that $P$ is not countably additive, suppose so and define $A_i = \left (\frac{1}{2}, \frac{1}{2} + \e_i \right]$ for some sequence $(\e_i) \to 0$, note that $P(A_i^{c}) = 0$ for all $i$, but
    \[ P(\cup_i A_i^{c}) = 1 - P(\cap_i A_i) = 1 > 0 = \sum_{i} P(A_i^{c}) \]
    This is a contradiction to countable subadditivity (Boole's inequality), it follows that $P$ cannot be countably additive.
\end{proof}

\begin{exercise}{2.16}
    \begin{enumerate}
        \item Suppose that $P$ is a probability measure on a field $\F$. Suppose that $A_t \in \F$ for $t > 0$, that $A_s \subseteq A_t$ for $s < t$ and that $A = \cup_{t > 0} A_t \in \mc F$. Extend Theorem 2.1 (i) by showing that $P(A_t) \uparrow P(A)$ at $t \to \infty$. Show that $A$ necessarily lies in $\mc F$ if it is a $\sigma$-field.
        \item Extend Theorem 2.1 (ii) in the same way.
    \end{enumerate}
\end{exercise}
\begin{proof}
    Note that since $A_s \subseteq A_t$ for $s < t$ we have $\cup_{0 < s < n} A_s = A_n$ for any $n \in \N$, hence we can write
    \[ \bigcup_{t > 0} A_t = \bigcup_{n \in \N} A_n \]
    Both facts easily follows from this.
\end{proof}

\begin{exercise}{2.17}
    Suppose that $P$ is a probability  measure on a field $\F$, that $A_1, A_2, \ldots$ and $A = \cup_n A_n$ lie in $\mc F$, and that the $A_n$ are nearly disjoint in the sense that $P(A_m \ic A_n) = 0$ for $m \neq n$. Show that $P(A) = \sum_n P(A_n)$.
\end{exercise}
\begin{proof}
    We first prove by induction that $P \left ( \cup_{n=1}^{N} A_n \right) = \sum_{n=1}^{N} P(A_n)$. This is obviously true for $N=2$ so take that as a base case, and suppose the relation holds up to some $N$, then
    \[ P \left (A_{N+1} \ic  \left (\bigcup_{n=1}^{N} A_n \right ) \right) = P \left ( \bigcup_{n=1}^{N} A_{N+1} \ic A_n \right ) \leq \sum_{n=1}^{N} P(A_{N+1} \ic A_n)  = 0 \]
    We use this fact next and the two-variable version of our statement together:
    \[ P \left (\bigcup_{n=1}^{N+1} A_n \right) = P \left ( \left (\bigcup_{n=1}^{N} A_n \right ) \cup A_{N+1} \right ) = P \left ( \bigcup_{n=1}^{N} A_n  \right ) + P(A_{N+1}) = \Sum_{n=1}^{N+1} P(A_n).  \]
    It follows that for any $k \in \N$ we have
    \[ P \left (\bigcup_{n=1}^{k} A_n \right) = \sum_{n=1}^{k} P(A_n) \]
    Taking the limit of both sides as $k$ goes to $\infty$ and using Theorem 2.1, 
    \[ P (A) = \lim_{k \to \infty} P \left (\bigcup_{n=1}^{k} A_n \right) =  \lim_{k \to \infty} \sum_{n=1}^{k} P(A_n) = \sum_n P(A_n), \]
    as required.
\end{proof}

\begin{exercise}{2.18}
    \emph{Stochastic Arithmetic}. Define a set function $P_n$ on the class of all subsets of $\Om = \{ 1, 2, \ldots \}$ by
    \[ P_n (A) = \frac{1}{n} \#[m \mid 1 \leq m \leq n, m \in A] \]
    among the first $n$ integers, the proportion that lie in $A$ is just $P_n (A)$. Then $P_n$ is a discrete probability measure. The set $A$ has density
    \[ D(A) = \lim_{n \to \infty} P_n (A) \]
    provided this limit exists. Let $\mc{D}$ be the class of sets having density.
    \begin{enumerate}
        \item Show that $D$ is finitely but not countable additive on $\mc{D}$.
        \item Show that $\mc{D}$ contains the empty set and $\Om$ and is closed under the formation of complements, proper differences, and finite disjoint unions, but is not closed under the formation of countable disjoint unions or of finite unions that are not disjoint.
        \item Let $\mc{M}$ consist of the periodic set $M_a = [ ka \mid k = 1, 2, \ldots ]$. Observe that
        \[ P_n (M_a) = \frac{1}{n} \floor{\frac{n}{a}} \to \frac{1}{a} = D(M_a) \]
        Show that the field $f(\mc M)$ generated by $\mc M$ is contained in $\mc D$. Show that $D$ is completely determined on $f(\mc M)$ by the value it gives for each $a$ to the event that $m$ is divisible by $a$.
        \item Assume that $\sum p^{-1}$ diverges (sum over all the primes; see Problem 5.20(e)) and prove that $D$, although finitely additive, is not countably additive on the field $f(M)$.
        \item Euler's function $\phi(n)$ is the number of positive integers less than $n$ and relatively prime to it. Let $p_1, \ldots, p_r$ be the distinct prime factors of $n$; from the inclusion-exclusion formula for the events $[m: p_i \mid m]$, the definition of $D(M_a)$, and the fact that $p_i$ divide $n$ deduce
        \[ \frac{\phi(n)}{n} = \prod_{p \mid n} \left ( 1 - \frac{1}{p} \right). \]
        \item Show for $0 \leq x \leq 1$ that $D(A) = x$ for some $A$.
        \item Show that $D$ is translation invariant: If $B = [ m + 1 \mid m \in A ]$, then $B$ has a density if and only if $A$ does, in which case $D(A) = D(B)$.
        \end{enumerate}
\end{exercise}
\begin{proof}
    \begin{enumerate}
        \item That $D$ is finitely additive follows by the properties of limits to infinity. To see that it is not countably additive, define $A_n = \{ n \}$ for all $n \in \N$, then by Exercise 2.17,
        \[ 1 = D (\N) = D \left ( \cup_{n} A_n \right) = \Sum_{n} D(A_n) = 0 \]
        which is a contradiction.
        \item We have
        \[ P_n (\es) = 0 \text { and } P_n (\Om) = 1 \text { for all } n \in \N  \]
        Taking limits yields that $\es$ has density zero and $\Om$ has density one, and hence are $\in \mc{D}$. Suppose that $A \in \mc D$, then
        \[ P_n (A^{c}) = \frac{1}{n} \#[m \notin A | 1 \leq m \leq n] = \frac{1}{n} (n - \#[m \in A \mid 1 \leq m \leq n]) = 1 - P_n(A) \]
        Taking limits yields $D(A^{c}) = 1 - D(A)$ and hence $A^c \in \mc{D}$. Let $A \seq B$, then
        \begin{align*}
            P_n (B-A) &= \frac{1}{n} \#[m \in B \text { and } m \notin A \mid 1 \leq m \leq n] \\
            &= \frac{1}{n} (\#[m \in B \mid 1 \leq m \leq n] - \#[m \in A \ic B = A \mid 1 \leq m \leq n]) \\
            &= P_n (B) - P_n(A)
        \end{align*}
        Taking limits yields $D(B-A) = D(B) - D(A)$ and hence $B-A \in \mc{D}$. If $A_i$ for $i = 1, \ldots, k$ are disjoint, then
        \[ P_n (\sum_{i=1}^{k} A_i) = \sum_{i=1}^{k} P(A_i) \]
        Taking limits shows $D(\cup_{i=1}^{k} A_i) = \sum_{i=1}^{k} D(A_i)$ and hence $\cup_i A_i \in \mc{D}$. Let $A = 2 \Z$, the set of even integers. Let $C_k = [m \mid v_k < m \leq v_{k+1}]$ and let 
        \[ B = (A \ic (C_1 \un C_3 \un \cdots)) \un ((\Z - A) \ic (C_2 \un C_4 \un \cdots)) \]
        Then,
        \[ A \ic B = A \ic (C_1 \un C_3 \un \cdots) \]
        We will prove that $A \ic B$ has no density. Let $E_{i} = A \ic C_{2i - 1}$, then
        \begin{align*}
            P_{v_{2k-1}} (A \ic B) &= \frac{1}{v_{2k-1}} \abs{\bigcup_{i=1}^{k} E_i} \text { if $k$ is odd } \\
            P_{v_{2k}} (A \ic B) &= \frac{1}{v_{2k}} \abs{\bigcup_{i=1}^{k} E_i} \ \ \  \text { if $k$ is even}
        \end{align*}
        so we can write
        \[ \frac{P_{v_{2k}} (A \ic B)}{P_{v_{2k-1}} (A \ic B)} = \frac{v_{2k-1}}{v_{2k}} \]
        If $A \ic B$ had density $D(A \ic B)$, then
        \[ \lim_{k \to \infty} \frac{P_{v_{2k}}}{P_{v_{2k-1}}} = \frac{D(A \ic B)}{D(A \ic B)} = 1 \]
        Hence choosing any sequence of integers $(v_k)_k$ such that $v_{2k-1}/v_{2k}$ does not converge to $1$ (for example $v_k = 2^k$) implies $A \ic B$ has no density. Since $A \ic B$ is a countable union of singletons (its elements), each of which has density $0$, it follows that $\mc D$ is not closed under countable unions. Since for any $\{ n, n+ 1 \}$ we must have exactly one of these in $B$, we must have $D(B) = \frac{1}{2}$ and $B \in \mc D$, and since $A \in \mc D$ we must have
        \[ A^c \un B^c = (A \ic B)^c \in D \]
        which is a contradiction to $(A \ic B) \notin D$.
        \item Note that $M_{a} \ic M_{b} = M_{\mathrm{lcm}(a,b)}$ and use this to prove additivity. The rest is straightforward.
        \item If $B_l = M_a - \cup_{p \leq l} M_{ap}$, then $a \in B_l$ and 
        \begin{align*}
            D(B_l) &= \frac{1}{a} - \sum_{p \leq l} \frac{1}{ap} + \sum_{p < q \leq l} \frac{1}{apq} - \cdots \\
            &= \frac{1}{a} \prod_{p \leq l} \left (1 - \frac{1}{p} \right) \leq \frac{1}{a} \mathrm{exp} \left ( - \sum_{p \leq l} \frac{1}{p} \right) \to 0
        \end{align*}
        Choose $l_a$ such that if $C_a = B_{l_a}$, then $D(C_a) < 2^{-a - 1}$. If $D$ were a probability measure on $f(\mc M)$, then $D(\Om) \leq \frac{1}{2}$ would follow.
        \item Let $M = \cup_i M_i$ where $M_i = [m \leq n : p_i \mid m]$, then $M^c = \cap_i M_i^c$ and
        \begin{align*}
            \frac{\phi(n)}{n} &= P_n (M^c) = 1 - P_n (M) \\
            &= 1 - P_n (\cup_i M_i) \\
            &= 1 - \left ( \sum_i P(M_i)  - \sum_{i < j} P(M_i \ic M_j) + \ldots \right) \\
            &= 1 - \left ( \sum_i \frac{1}{p_i} - \sum_{i < j} \frac{1}{p_i p_j} + \ldots \right ) \\
            &= \prod_{p_i \mid n} \left ( 1 - \frac{1}{p_i} \right )
        \end{align*}
        the last equality can be easily shown by induction.
        \item Define
        \[ A_n = \{ 1 \leq m \leq n \mid \frac{m}{n} \leq x \} \]
        If $m \in A_n$ then
        \[ \frac{m}{n+1} \leq \frac{m}{n} \leq x \]
        Hence $m \in A_{n+1}$, it follows that $A_n \seq A_{n+1}$ and the sequence of sets is monotone, and hence has a limit $\lim_{n \to \infty} A_n = A$. Now,
        \begin{align*}
            P_n (A) &= \frac{1}{n} \# [ 1 \leq m \leq n \mid m \in A ] \\
            &= \frac{1}{n} \# [ 1 \leq m \leq n \mid \frac{m}{n} \leq x ] \\
            &= \frac{1}{n} \floor{nx}
        \end{align*}
        Note that
        \[ \frac{1}{n} (n-1)x \leq \frac{1}{n} \floor{nx} \leq \frac{1}{n} nx \]
        Taking limits as $n \to \infty$ and using the Squeeze Theorem yields $D(A) = x$.
        \item This is straightforward.
    \end{enumerate}
\end{proof}

\begin{exercise}{2.19}
    A probability measure space $(\Om, \mc F, P)$ is nonatomic if $P(A) > 0$ implies that there exists a $B$ such that $B \seq A$ and $0 < P(B) < P(A)$ ($A$ and $B$ in $\mc F$, of course)
    \begin{enumerate}
        \item Assuming the existence of the Lebesgue measure $\lambda$ on $\mc B$, prove that it is nonatomic.
        \item Show in the nonatomic case that $P(A) > 0$ and $\e > 0$ imply that there exists a $B$ such that $B \seq A$ and $0 < P(B) < \e$.
        \item Show in the nonatomic case that $0 \leq x \leq P(A)$ implies there exists a $B$ such that $B \seq A$ and $P(B) = x$.
        \item Show in the nonatomic case that, if $p_1, p_2, \ldots$ are nonnegative and add to $1$, then $A$ can be decomposed into sets $B_1, B_2, \ldots$ such that $P(B_n) = p_n P(A)$.
    \end{enumerate}
\end{exercise}
\begin{proof}
    \begin{enumerate} 
        \item Consider $f(x) = \lambda \left ( (0, x] \ic A \right )$ for all $x \in [0, 1]$. Note that $f(0) = 0$ and that $f(1) = \lambda (A) > 0$. We now prove that $f$ is continuous: Suppose $(x_n)_n$ is an increasing sequence in $[0, 1]$ with $x_n \to x$, define $A_n = (0, x_n] \ic A$, then $A_n \seq A_{n+1}$ and we can use continuity from above  
        \[ \lim_{n \to \infty} f(x_n) = \lim_{n \to \infty} \lambda (A_n) = \lambda \left ( \lim_{n \to \infty} A_n \right) = \lambda ((0, x] \ic A) = f(x) \]
        Now let $(x_n)_n$ be an arbitrary sequence convergent to $x$, find a monotone subsequence $(x_{p_n})_n$ in it, note
        \[ \abs{f(x_n) - f(x)} \leq \abs{f(x_n) - f(x_{p_n})} + \abs{f(x_{p_n}) - f(x)} \]
        Taking the limit as $n \to \infty$ we have
        \[ \lim_{n \to \infty} \abs{f(x_n) - f(x)} = 0, \]
        hence $\lim_{n \to \infty} f(x_n) = f(x)$, as required. We see that $f$ is continuous, and an immediate application of the Intermediate Value Theorem yields the results (1), (2), and (3).
        \item Note that $f$ from Part (1) is monotone. For all $n \in \N$, define $t_n$ to be such that $f(t_n) = P(A) \left ( \sum_{i=1}^{n} p_{i} \right )$, which is possible because $\sum_{i=1}^{n} p_{i} \leq 1$ for any $n \in \N$. Define $t_0 = 0$ and let $B_n = (t_{n-1}, t_n) \ic A$. Then,
        \begin{align*}
            \lambda (B_n) &= \lambda ((t_{n-1}, t_n] \ic A) \\
            &= \lambda ((0, t_n] \ic A) - \lambda ((0, t_{n-1}] \ic A) \\
            &= P(A) \sum_{i=1}^{n} p_n - P(A) \sum_{i=1}^{n-1} p_{n-1} = p_n P(A)
        \end{align*}
        Note that by definition all $B_n$ are disjoint and that
        \begin{align*}
            \bigcup_{n=1}^{k} B_n &= \left ( \bigcup_{n=1}^{k} (t_{n-1}, t_n] \right ) \ic A \\
            &= (0, t_k) \ic A = A
        \end{align*}
        The last equality follows because $\lim_{k \to \infty} t_k = 1$ since $\sum_i p_i = 1$.
    \end{enumerate}
\end{proof}

\begin{exercise}{2.20}
    Generalize the construction of product measure: For $n = 1, 2, \ldots$, let $S_n$ be a finite space with given probabilities $p_{n, u}$, $u \in S_n$. Let $S_1 \times S_2 \times \cdots$ be the space of sequences, where now $z_k (\om) \in S_k$. Define $P$ on the class of cylinders, appropriately defined, by using the product $p_{1, u_1} \cdots p_{n, u_n}$ on the right in (2.21)
    \[ P(A) = \sum_{H} p_{u_1} \cdots p_{u_n} \text { for a cylinder } A = [ \om : (z_1 (\om), \ldots, z_n(\om)) \in H ] \]
    Prove that $P$ is countably additive on $\ell_0$, and extend Theorem 2.3 and its lemma to this more general setting. Show that the lemma fails if any of the $S_n$ are infinite.
\end{exercise}
\begin{proof}
    \textbf{TBD}.
\end{proof}

Exercise 2.21 requires normal numbers, return after doing Section 1. Exercises 2.22 and 2.23 require ordinals, and since I don't know ordinaals I skipped them.

Suppose that $P^{\ast} (A) + P^{\ast} (A^c) = 1$, 

\subsection*{3. Existence and Extension}
\begin{exercise}{3.1}
    \begin{enumerate}
        \item In the proof of Theorem 3.1 the assumed finite additivity of $P$ is used twice and the assumed countable additivity of $P$ is used once. Where?
        \item Show by example that a finitely additive probability measure on a field may not be countably subadditive. Show in fact that if a finite additive probability measure is countably subadditive, then it is necesssarily countably additive.
        \item Suppose Theorem 2.1 were weakened by strengthening its hypothesis to the assumption that $\mc F$ is a $\sigma$-field. Why would this weakened result not suffice for the proof of Theorem 3.1?
    \end{enumerate}
\end{exercise}
\begin{proof}
    \begin{enumerate}
        \item Finite additivity is used in proving monotonicity and in Lemma 4. Countable Additivity is used in proving subadditivity, I guess..
        \item We first show that a if a finitely additive probability measure is countably subadditive, then it is countably additive: Suppose that $P$ is finitely additive on $\F$ and that it is countably subadditive as well. Let $A_1, A_2, \ldots$ be a disjoint sequence of $\F$-sets with $A = \cup_k A_k \in \F$, then by monotonicity and finite additive
        \begin{align*}
            P(A) = P\left ( \cup_{k=1}^{\infty} A_k \right ) \geq P \left ( \cup_{k=1}^{n} A_k \right) = \sum_{k=1}^{n} P(A_k) 
        \end{align*}
        Hence $P(A) \geq \lim_n \sum_{k=1}^{n} P(A_k) = \sum_{k=1}^{\infty} P(A_k)$ and by countable subadditivity we get $P(A) \leq \sum_k P(A_k)$, it follows that $P(A) = \sum_k P(A_k)$ and hence $P$ is countably additive. We then use the result of 2.18 (d) to demonstrate a probability measure that is finitely additive but not countably subadditive (if it were countably subadditive, it'd be countably additive, which it is not).
        \item Because the proof of Theorem 2.1 uses countable subadditivity several times on fields that are not necessarily $\sigma$-fields.
    \end{enumerate}
\end{proof}

\begin{exercise}{3.4}
    Let $f$ be a strictly increasing, strictly concave function on $[0, \infty)$ satisfying $f(0) = 0$. For $A \seq (0, 1]$, define $P^{\ast} (A) = f(\lambda^{\ast} (A))$. 
    \begin{enumerate}
        \item Show that $P^{\ast}$ is an outer measure in the sense that it satisfies $P^\ast (\es) = 0$ and is nonnegative, monotone, and countably subadditive.
        \item Show that $A$ lies in $\mc{M}$ (defined by the requirement 3.4) if and only if $\lambda^{\ast} (A)$ or $\lambda^\ast (A^c)$ is $0$. 
        \item Show that $P^\ast$ does not arise from the definition (3.1) for any probability measure $P$ on any field $\F_0$.
    \end{enumerate}
\end{exercise}
\begin{proof}
    \begin{enumerate}
        \item Because $\lambda^{\ast} (\es) = 0$ and $f(0) = 0$ then $P^{\ast} (\es) = 0$. Because $f$ is strictly increasing, it is nonnegative. Suppose that $A \seq B$, then $t_A = \lambda^{\ast} (A) \leq \lambda^{\ast} (B) = t_B$, and hence $f(t_A) \leq f(t_B)$.
        For countable subadditivity, note that if $\bigcup_n A_n = A$, then $\sum_n \lambda^{\ast} (A_n) \leq \lambda^{\ast} (A)$. Let $L = \sum_n \lambda^{\ast} (A_n)$, then
        \begin{align*}
            f(\lambda^{\ast} (A)) \geq f(L) > L \cdot f(1)
        \end{align*}
        and
        \begin{align*}
            f( 1 ) &= f \left ( \sum_n \lambda^{\ast} (A_n)/L \right ) > \sum_n \frac{1}{L} f \left ( \lambda^{\ast} (A_n) \right)
        \end{align*}
        Combining the last two inequalities,
        \[ P^\ast (A) = f(\lambda^\ast (A)) \geq \sum_n f(\lambda^{\ast} (A_n)) = \sum_n P^\ast (A_n). \]
        \item First note that for any $a, b \neq 0$ we have
        \begin{align*}
            f(a) + f(b) &= f\left ((a+b) \frac{a}{a+b} \right) + f\left((a+b) \frac{b}{a+b} \right) \\
            &\geq \frac{a}{a+b} f(a+b) + \frac{b}{a+b} f(a+b) = f(a+b).
        \end{align*}
        with equality if and only if $a = 0$ or $b = 0$. Notice
        \begin{align*}
            P^{\ast} (A \ic E) + P^{\ast} (A^c \ic E) &= f(\lambda^{\ast} (A \ic E)) + f(\lambda^\ast (A^c \ic E)) \\
            &\geq f(\lambda^{\ast} (A \ic E) + \lambda^{\ast} (A^c \ic E))
        \end{align*}
        If $A \in \mc M$, then
        \begin{align*}
            f(\lambda^{\ast} (E)) &\leq f( \lambda^{\ast} (E \ic A) + \lambda^{\ast} (E \ic A^c) ) \\
            &\leq f(\lambda^{\ast} (E \ic A)) + f(\lambda^{\ast} (E \ic A^c)) = f(\lambda^{\ast} (E))
        \end{align*}
        Because we know equality happens only when one of them is zero, we get the claim for this direction. Suppose that $f(\lambda^{\ast} (E \ic A)) = 0$, then $\lambda^\ast (E \ic A) = 0$,
        \begin{align*}
            P^{\ast} (A \ic E) + P^{\ast} (A \ic E^c) &= f(\lambda^\ast (A \ic E)) + f(\lambda^\ast (A^c \ic E)) \\
            &= f(\lambda^{\ast} (A \ic E) + \lambda^{\ast} (A^c \ic E))
        \end{align*}
        Note that we have,
        \[ \lambda^{\ast} (A \ic E) + \lambda^{\ast} (A^c \ic E) \geq \lambda^{\ast} (E) \]
        Applying this to the last inequality yields
        \[ P^{\ast} (A \ic E) + P^{\ast} (A \ic E^c) \geq P^{\ast} (E). \]
        We also have,
        \begin{align*}
            \lambda^{\ast} (A \ic E) + \lambda^{\ast} (A^c \ic E) &= \lambda^{\ast} (A^c \ic E) \leq \lambda^{\ast} (E)
        \end{align*}
        Hence,
        \begin{align*}
            P^\ast (A \ic E) + P^\ast (A^c \ic E) &= f(\lambda^{\ast} (A \ic E) + \lambda^{\ast} (A^c \ic E)) \\
            &\leq f(\lambda^{\ast} (E)) = P^\ast (E).
        \end{align*}
        Hence $P^\ast (A \ic E) + P^\ast (A^c \ic E) = P^\ast (E)$, as required.
        \item Suppose it does, then $P$ would measure all the sets of $\F_0$, but by the previous part we know sets are measurable if either $P(A) = 0$ or $P(A^c) = 0$. So $\F_0$ is part of the family of sets such that $P(A) = 0$ or $P(A^c) = 0$, but then $P$ must be two-valued (either $P(A) = 0$ or $P(A) = 1$) on $\F_0$, which would mean $P^\ast$ is also two-valued on $\F_0$, and therefore two-valued everywhere. But this is a contradiction to the definition of $P^\ast$, from which it is obvious to see that $P^\ast(\es) < P^\ast ((0, 1/2]) < P^\ast((0, 1])$.
    \end{enumerate}
\end{proof}

\begin{exercise}{3.5}
    Let $\Om$ be the unit square $\left [ (x, y) \mid 0 < x, y \leq 1 \right]$, let $\F$ be the class of sets of the form 
    \[ [(x, y): x \in A, 0 < y \leq 1] ,\]
     where $A \in \B$, and let $P$ have the value $\lambda(A)$ at this set. 
    \begin{enumerate}
        \item Show that $(\Om, \F, P)$ is a probability measure space.
        \item Show for $A = \left [(x, y) \mid 0 < x \leq 1, y = \frac{1}{2} \right ]$ that $P_{\ast} (A) = 0$ and $P^\ast (A) = 1$.
    \end{enumerate}
\end{exercise}
\begin{proof}
    \begin{enumerate}
        \item First, since $\Om = [(x, y): x, y \in (0, 1)]$, then
        \[ P(\Om) = \lambda( (0, 1] ) = 1. \]
        Nonnegativity is obvious. Second, suppose that $Y = [(x, y) \mid x \in A \text { and } y \in (0, 1]]$, then
        \begin{align*}
            Y^{c} &= [ (x, y) \mid x \notin A \text { or } y \notin (0, 1] ] \\
            &= [ (x, y) \mid x \notin A, y \in (0, 1] ] = [(x, y) \mid x \in A^c, y \in (0, 1]]
        \end{align*}
        Hence $P(Y^c) = \lambda(A^c) = 1 - \lambda(A) = 1 - P(A)$. Third, suppose that $(Y_k)_k$ is a disjoint sequence of sets in $\F$ and $Y = \bigcup_k Y_k \in \F$, let $(A_k)_k$ be the sequence of sets in $\B$ corresponding to the $(Y_k)_k$, it is easy to see that the $A_k$ must all be disjoint, and 
        \begin{align*}
            P(Y) = P \left ( \bigcup_k Y_k \right) &= \lambda \left ( \bigcup_k A_k \right ) = \sum_{k} \lambda(A_k) = \sum_k P(Y_k),
        \end{align*}
        as required.
        \item Let $(Y_k)$ be any sequence of sets in $\F$ such that $A \seq \bigcup_k Y_k = Y$, then since $(x, 1/2) \in Y$ for all $x \in (0, 1]$, it must be that there is some $k$ for which $(x, 1/2) \in Y_k$ and hence $(x, y) \in Y_k$ for all $y \in (0, 1]$ (by the definition of any $Y_k \in \F$), it follows that for any $(x, y)$ pair we have $(x, y) \in Y$ and hence $P(Y) = 1$.
        \begin{align*}
            \sum_k P(Y_k) \geq P \left ( Y \right ) = 1
        \end{align*}
        Since this was arbitrary, it follows that $P^\ast (A) = \inf \sum_k P(Y_k) \geq 1$, and therefore $P^\ast (A) = 1$. That $P_\ast (A) = 0$ follows similarly.
    \end{enumerate}
\end{proof}

\begin{exercise}{3.6}
    Let $P$ be a finitely additive probability measure on a field $\F_0$. For $A \seq \Om$, define
    \[ P^{\circ} (A) = \inf_{(A_n)} \sum_{n} P(A_n) \]
    where the infimum extends all finite sequences of $\F_0$ sets $A_n$ satisfying $A \seq \bigcup_{n} A_n$. Define
    \[ \mathcal{M}^{\circ} = \{ A \seq \Om \mid P^{\circ} (A \ic E) + P^{\circ} (A^c \ic E) = P^{\circ} (E)  \} \]
    \begin{enumerate}
        \item Show that $P^{\circ} (\es) = 0$ and that $P^{\circ}$ is nonnegative, monotone, and finitely subadditive. Using these four properties of $P^{\circ}$, prove:
        \begin{enumerate}
            \item $\mc{M}^\circ$ is a field.
            \item If $A_1, A_2, \ldots, A_n$ is a finite sequence of disjoint $\mathcal{M}^{\circ}$-sets, then for each $E \seq \Om$,
            \[ P^{\circ} \br{E \ic \br{\bigcup_k A_k} } = \sum_{k} P^{\circ} (E \ic A_k). \]
            \item $P^{\circ}$ restricted to the field $\M^{\circ}$ is finitely additive.
        \end{enumerate}
        \item Show that $\F_0 \seq \M^{\circ}$ and that $P^{\circ} (A) = P(A)$.
        \item Define $P_{\circ} (A) = 1 - P^{\circ} (A^c)$. Prove that if $E \seq A \in \F_0$, then
        \[ P_{\circ} (E) = P(A) - P^\circ (A - E). \]
    \end{enumerate}
\end{exercise}
\begin{proof}
    \begin{enumerate}
        \item Obviously $P^{\circ} (\es) = 0$ and $P^\circ$ is nonnegative and monotone. For finite subadditivity, note that
        \begin{align*}
            S &= \{ (A_n)_{n=1}^{k} \mid k \in \N \text { and } (A \un B) \seq \bigcup_n A_n \} \\
            &\seq \{  (A_n)_{n=1}^{k} \mid k \in \N \text { and } A \seq \bigcup_n A_n \} \bigcup \{  (A_n)_{n=1}^{k} \mid k \in \N \text { and } B \seq \bigcup_n A_n \} \\
            &= S_1 \bigcup S_2
        \end{align*}
        This is because if $(A_n)$ are such that $A \seq \bigcup_n A_n$ and $(B_n)$ are such that $B \seq \bigcup_n B_n$, then letting $C_n = A_n \cup B_n$ whenever the $n$ is small enough that both $A_n$ and $B_n$ are defined and letting $C_n$ take the value of the defined one of the pair otherwise, we have
        \[ \bigcup_{n=1}^{k_{\max}} C_n = \br{\bigcup_n A_n} \bigcup \br{\bigcup_n B_n} \supseteq A \cup B. \]
        Taking the infimum over sets $S$, $S_1$, and $S_2$ yields the required answer. Now for the other properties,
        \begin{enumerate}
            \item It is obvious that $\es \in \mc{M}^\circ$ and that $A \in \mc{M}^\circ$ implies $A^{c} \in \mc{M}^\circ$. It remains to show that if $A, B \in \M^\circ$, then $A \ic B \in \M^{\circ}$. To see this, write
            \begin{align*}
                P^{\circ} (E) &= P^\circ (BE) + P^\circ (\bar{B} E) \\
                &= P^\circ (ABE) + P^\circ (\bar{A} BE) + P^\circ(\bar{A} \bar{B} E) + P^\circ (A \bar{B} E) \\
                &\geq P^\circ (ABE) + P^\circ( (\bar{A}B + A \bar{B} + \bar{A} \bar{B}) E) \\
                &= P^\circ (ABE) + P^\circ ( \bar{(AB)} E)
            \end{align*}
            And the other side of the inequality follows by finite subadditivity.
            \item We show this for the $n = 2$, the extension to the $k$-case can be done by induction. Suppose that $A$ and $B$ are disjoint $\M^{\circ}$ sets, then
            \begin{align*}
                P^{\circ} (E(A + B)) &= P^{\circ} (EA + EB)
            \end{align*}
            Use the fact that $P^\circ (E') = P^\circ(BE') + P^\circ (\bar{B} E')$ applies to $E' = EA + EB$, then
            \begin{align*}
                P^\circ (E(A +B)) &= P^\circ((EA + EB)B) + P^\circ ((EA + EB) \bar{B}) \\
                &= P^\circ(EB) + P^\circ (EA)
            \end{align*}
            where we used the fact $AB = \es$ and that $A\bar{B} = A$ (which both follow by the disjointedness of $A$ and $B$).
            \item Follows from the previous result.
        \end{enumerate}
        \item Suppose that $A \in \F_0$, note that $P^{\circ} (AE)$ is defined as the infimum of the sum of probabilities over the set $S_1 = \{ (A_n) \mid AE \seq \bigcup_n A_n \}$ and similarly $S_2 = \{ (B_n) \mid \bar{A} E \seq \bigcup_n B_n \}$. It is straightforward to see that $S_1 \un S_2 \seq S$, where $S = \{ (C_n) \mid E \seq \bigcup_n C_n \}$. Using this and finite subadditivity is enough to prove that $A \in \M_0$. If $A \in \F^\circ$, then for any finite sequence $(A_n)$ in $\F^\circ$ such that $A \seq \bigcup_n A_n$ we have,
        \begin{align*}
            P(A) &= P\br{A \ic \bigcup_n A_n} = P\br{\bigcup_n (A \ic A_n)} \leq \sum_n P(A \ic A_n) \leq \sum_n P(A_n)
        \end{align*}
        Taking infimums yields $P(A) = P^\circ (A)$.
        \item The given statement is equivalent to proving that
        \begin{align*}
            1 = P(A) + P^{\circ} (\bar{E}) - P^{\circ} (A \bar{E})
        \end{align*}
        Using that $A \in \M^\circ$, we have
        \begin{align*}
            P^\circ (\bar{E}) &= P^\circ (A \bar{E}) + P^\circ (\bar{A} \bar{E}) = P^\circ (A \bar{E}) + P^\circ (\bar{A})
        \end{align*}
        Plugging this into the right hand side and using the fact that $P^\circ$ is a probability measure on $\F_0$ (hence $P(A) + P(\bar{A}) = 1$) yields the desired equality.
    \end{enumerate}
\end{proof}



\end{document}
